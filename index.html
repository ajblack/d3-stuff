<head>
  <link rel="stylesheet" href="css/style.css"/>
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <!--<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>-->
  <!--<script src="app.js" charset='utf-8'></script>-->
  <!--<script src="mapapp.js" charset='utf-8'></script>-->
  <script src="neighborhoods.js"></script>
  <script src="rodents.js"></script>
</head>

<body>
  <script>

  var width = 700,
      height = 580;

  var svg = d3.select( "body" )
    .append( "svg" )
    .attr( "width", width )
    .attr( "height", height );

  var g = svg.append( "g" );

  var albersProjection = d3.geo.albers()
    .scale( 190000 )
    .rotate( [71.057,0] )
    .center( [0, 42.313] )
    .translate( [width/2,height/2] );

  var geoPath = d3.geo.path()
    .projection( albersProjection );

    //max density
  var max = d3.max(neighborhoods_json.features, function(d){return d.properties.density});
  console.log(max);

  //min density
  var min = d3.min(neighborhoods_json.features, function(d){return d.properties.density});
  console.log(min);
/*
  var color = d3.scale.threshold()
    .domain(d3.range(min, max))
    .range(d3.schemeBlues[9]);*/

  g.selectAll( "path" )
    .data( neighborhoods_json.features )
    .enter()
    .append( "path" )
    .attr( "fill", "#ccc" )
    .attr("opacity", function(d){
      return d.properties.density/max;
    })
    .attr( "d", geoPath );


  var rodents = svg.append( "g" );

  rodents.selectAll( "path" )
    .data( rodents_json.features )
    .enter()
    .append( "path" )
    .attr( "fill", "#900" )
    .attr( "stroke", "#999" )
    .attr( "d", geoPath )
    .on('click', function(){
      d3.select(this).remove();
    })

  </script>
  <!--
  <div class='chartContainer'  id='graph'>
  </div>
  <span class='newWindowBtn'>click me</span>
  <div class='newChartContainer' draggable="false">
  </div>
-->
</body>
